[gd_scene load_steps=18 format=3 uid="uid://duxtt4i116bae"]

[ext_resource type="Script" path="res://space_challenge/Optimization_Algorithms/PSO.gd" id="1_ymlpp"]
[ext_resource type="Texture2D" uid="uid://bpxcnqh5s1xr4" path="res://external_assets/SpaceSkyMap.png" id="2_mkyag"]
[ext_resource type="PackedScene" uid="uid://ctluyj2ir5gjj" path="res://Ring_Test/ring_manager.tscn" id="3_ppadj"]
[ext_resource type="Script" path="res://space_challenge/Environments/Scripts/SaveBestNN.gd" id="4_8tthd"]
[ext_resource type="Script" path="res://space_challenge/Environments/LoadBestNN.gd" id="5_qbgtj"]
[ext_resource type="Script" path="res://space_challenge/Environments/Scripts/ExportConvergency.gd" id="6_4wc55"]
[ext_resource type="Script" path="res://space_challenge/Environments/global view.gd" id="7_7q6rs"]
[ext_resource type="Script" path="res://space_challenge/Environments/Spaceship View.gd" id="8_f1usc"]
[ext_resource type="Script" path="res://space_challenge/Environments/RingDistance.gd" id="9_stb0r"]
[ext_resource type="Script" path="res://space_challenge/Environments/RingRadius.gd" id="10_qbsjj"]
[ext_resource type="Script" path="res://space_challenge/Environments/TimePerRing.gd" id="11_niybi"]
[ext_resource type="Script" path="res://space_challenge/Environments/StandardDeviation.gd" id="12_oqtiy"]
[ext_resource type="Script" path="res://space_challenge/Environments/TimeLeft.gd" id="13_54ltl"]
[ext_resource type="Script" path="res://space_challenge/Environments/Pivot.gd" id="14_q8jmr"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_rmgya"]
panorama = ExtResource("2_mkyag")

[sub_resource type="Sky" id="Sky_tqprb"]
sky_material = SubResource("PanoramaSkyMaterial_rmgya")

[sub_resource type="Environment" id="Environment_3y7q2"]
background_mode = 2
sky = SubResource("Sky_tqprb")

[node name="spacePSO" type="Node3D"]
script = ExtResource("1_ymlpp")
spaceship_scene = "res://space_challenge/Spaceships(Agents)/spaceship.tscn"

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.915838, 0, 0.401548, 0, 1, 0, -0.401548, 0, 0.915838, 6.06924, 2.19645, 10.3701)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.875042, -0.418578, 0.24309, 0, 0.502205, 0.864748, -0.484046, -0.756692, 0.439451, 0, 11.0538, 7.25927)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_3y7q2")

[node name="RingManager" parent="." instance=ExtResource("3_ppadj")]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="FocusGrab" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 1
mouse_filter = 1

[node name="SaveBestNN" type="Button" parent="CanvasLayer"]
offset_right = 8.0
offset_bottom = 8.0
text = "Save Best NN
"
script = ExtResource("4_8tthd")

[node name="LoadBestNN" type="Button" parent="CanvasLayer"]
offset_top = 39.0
offset_right = 8.0
offset_bottom = 47.0
text = "Load NN"
script = ExtResource("5_qbgtj")

[node name="ExportConvergency" type="Button" parent="CanvasLayer"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -215.0
offset_bottom = 31.0
grow_horizontal = 0
text = "Export Convergency History"
script = ExtResource("6_4wc55")

[node name="Global View" type="Button" parent="CanvasLayer"]
offset_left = 294.0
offset_right = 412.0
offset_bottom = 31.0
text = "Global View
"
script = ExtResource("7_7q6rs")

[node name="Spaceship View" type="Button" parent="CanvasLayer"]
offset_left = 295.0
offset_top = 37.0
offset_right = 425.0
offset_bottom = 72.0
text = "Spaceship View
"
script = ExtResource("8_f1usc")

[node name="RingDistance" type="SpinBox" parent="CanvasLayer"]
unique_name_in_owner = true
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -200.0
offset_top = 36.0
offset_bottom = 67.0
grow_horizontal = 0
step = 0.01
value = 6.0
prefix = "Ring distance:"
custom_arrow_step = 1.0
script = ExtResource("9_stb0r")

[node name="RingRadius" type="SpinBox" parent="CanvasLayer"]
unique_name_in_owner = true
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -200.0
offset_top = 72.0
offset_bottom = 103.0
grow_horizontal = 0
step = 0.01
value = 2.0
prefix = "Ring radius:    "
custom_arrow_step = 1.0
script = ExtResource("10_qbsjj")

[node name="TimePerRing" type="SpinBox" parent="CanvasLayer"]
unique_name_in_owner = true
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -200.0
offset_top = 108.0
offset_bottom = 139.0
grow_horizontal = 0
step = 0.01
value = 4.0
prefix = "Time per ring:"
custom_arrow_step = 1.0
script = ExtResource("11_niybi")

[node name="StandardDeviation" type="SpinBox" parent="CanvasLayer"]
unique_name_in_owner = true
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -200.0
offset_top = 144.0
offset_bottom = 175.0
grow_horizontal = 0
step = 0.01
value = 0.1
prefix = "Deviation:       "
custom_arrow_step = 1.0
script = ExtResource("12_oqtiy")

[node name="TimeLeft" type="Label" parent="CanvasLayer"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -20.0
offset_right = 20.0
offset_bottom = 23.0
grow_horizontal = 2
text = "Time left: 0.00 s"
script = ExtResource("13_54ltl")

[node name="Pivot" type="Marker3D" parent="."]
script = ExtResource("14_q8jmr")

[node name="Camera3D" type="Camera3D" parent="Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 35)
current = true

[connection signal="pressed" from="CanvasLayer/SaveBestNN" to="CanvasLayer/SaveBestNN" method="_on_pressed"]
[connection signal="pressed" from="CanvasLayer/LoadBestNN" to="CanvasLayer/LoadBestNN" method="_on_pressed"]
[connection signal="pressed" from="CanvasLayer/ExportConvergency" to="CanvasLayer/ExportConvergency" method="_on_pressed"]
[connection signal="pressed" from="CanvasLayer/Global View" to="CanvasLayer/Global View" method="_on_pressed"]
[connection signal="pressed" from="CanvasLayer/Spaceship View" to="CanvasLayer/Spaceship View" method="_on_pressed"]
[connection signal="value_changed" from="CanvasLayer/RingDistance" to="CanvasLayer/RingDistance" method="_on_value_changed"]
[connection signal="value_changed" from="CanvasLayer/RingRadius" to="CanvasLayer/RingRadius" method="_on_value_changed"]
[connection signal="value_changed" from="CanvasLayer/TimePerRing" to="CanvasLayer/TimePerRing" method="_on_value_changed"]
[connection signal="value_changed" from="CanvasLayer/StandardDeviation" to="CanvasLayer/StandardDeviation" method="_on_value_changed"]
